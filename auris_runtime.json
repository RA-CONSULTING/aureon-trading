{
  "name": "auris_runtime",
  "version": "1.0.0",
  "description": "Live lattice+aura validation with Prime Seal binding and real-time controls.",

  "identity": {
    "default_name": "Gary Leckey",
    "default_dob": "1991-11-02",
    "phi": 1.618033988749895,
    "gaia_hz": 7.83,
    "t0_hint_hz": 2911.91,
    "lattice_id_format": "Φ•Gaia•{dob}•10:9:1",
    "prime_seal": "10-9-1"
  },

  "paths": {
    "codex": "auris_codex.json",
    "compiler": "symbolic_compiler_layer.json",
    "auris_metrics_csv": "validation/auris_metrics.csv",
    "aura_features_csv": "validation/aura_features.csv",
    "control_hints": "validation/control_hints.json",
    "snapshots_dir": "validation/snapshots"
  },

  "streams": {
    "waveform_stream": { "format": "float32", "sample_rate": 44100, "channels": 1 },
    "metrics_stream":  { "format": "csv",     "update_interval_ms": 200 },
    "aura_stream":     { "format": "csv",     "update_interval_ms": 200 }
  },

  "targets_hz": {
    "fundamental_default": 7.83,
    "harmonics_default": [14.3, 20.8, 27.3, 33.8],
    "snap_fund": [7.5, 7.83, 8.0],
    "snap_harm": [14.3, 20.8, 27.3, 33.8]
  },

  "controls": {
    "gain_default": 1.0,
    "gain_min": 0.2,
    "gain_max": 3.0,
    "gain_step": 0.05,
    "softclip": "tanh", 
    "debounce_ms": 140
  },

  "modules": {
    "symbolic_compiler": {
      "entry": "symbolic_compiler_layer.json",
      "codex": "@paths.codex",
      "role": "intent → frequency/decay synthesis",
      "output": "waveform_stream"
    },
    "auris_validator": {
      "entry": "validator_auris.py",
      "inputs": ["waveform_stream", "@paths.control_hints"],
      "output": "@paths.auris_metrics_csv",
      "metrics": ["rms","tsv_gain","coherence_score","schumann_lock","prime_alignment","ten_nine_one_concordance"]
    },
    "aura_validator": {
      "entry": "aura_validator.py",
      "inputs": ["aura_stream", "@paths.control_hints"],
      "output": "@paths.aura_features_csv",
      "metrics": ["alpha_theta_ratio","hrv_norm","gsr_norm","calm_index","prime_concordance_10_9_1","aura_hue_deg"]
    },
    "ws_bridge": {
      "entry": "auris_bridge.js",
      "websocket_url": "ws://localhost:8787",
      "broadcast": {
        "auris_metrics_csv": "@paths.auris_metrics_csv",
        "aura_features_csv": "@paths.aura_features_csv"
      },
      "accepts": {
        "control": "@paths.control_hints",
        "snapshot": "@paths.snapshots_dir",
        "ping_pong": true
      }
    },
    "dashboard": {
      "entry": "NexusLiveDashboard.tsx",
      "ws_url": "ws://localhost:8787",
      "show_latency_chip": true,
      "show_snapshot_button": true,
      "panels": ["AuraRing","LatticeCard","IdentityCard","LiveControls"]
    },
    "unity_renderer": {
      "optional": true,
      "entry": "lattice_renderer.unity",
      "timeline_binding": "PlayableBehaviour + TrackAsset",
      "inputs": ["@paths.auris_metrics_csv","@paths.aura_features_csv","@paths.control_hints"]
    }
  },

  "bindings": {
    "prime_anchor": {
      "seal": "@identity.prime_seal",
      "law": "all_that_is_was_shall_be_in_tandem",
      "apply_to": ["metrics_stream","aura_stream","visual_palette"]
    }
  },

  "roles": {
    "Prime Sentinel (Active)": {
      "coherence_score": ">= 0.65",
      "schumann_lock": ">= 0.65",
      "prime_alignment": ">= 0.60",
      "ten_nine_one_concordance": ">= 0.60",
      "calm_index": ">= 0.60"
    },
    "Field Harmonizer": {
      "coherence_score": ">= 0.45",
      "schumann_lock": ">= 0.45",
      "calm_index": ">= 0.45"
    },
    "Observer / Calibrator": {}
  },

  "ui": {
    "identity": { "t0_editable": true, "show_phi_gaia_scalar": true },
    "controls": { "fund_min": 6.5, "fund_max": 9.5, "fund_step": 0.01, "harm_min": 10, "harm_max": 40, "harm_step": 0.1 },
    "formatting": { "safe_number_render": true }
  },

  "heartbeat": {
    "enabled": true,
    "interval_ms": 1000,
    "type": "ping_pong",
    "target_ws": "@modules.ws_bridge.websocket_url"
  },

  "snapshots": {
    "enabled": true,
    "dir": "@paths.snapshots_dir",
    "pin_csv_markers": true,
    "contents": ["identity","controls","last_lattice","last_aura","timestamp"]
  },

  "safety": {
    "clamp_inputs": true,
    "fallback_targets_when_empty": true,
    "null_safe_render": true
  }
}