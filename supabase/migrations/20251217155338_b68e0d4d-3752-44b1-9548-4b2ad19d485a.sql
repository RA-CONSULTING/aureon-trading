-- Add new columns to brain_states table for complete brain data
ALTER TABLE public.brain_states
ADD COLUMN IF NOT EXISTS live_pulse JSONB DEFAULT '{}',
ADD COLUMN IF NOT EXISTS quantum_coherence NUMERIC,
ADD COLUMN IF NOT EXISTS planetary_gamma NUMERIC,
ADD COLUMN IF NOT EXISTS cascade_multiplier NUMERIC,
ADD COLUMN IF NOT EXISTS is_lighthouse BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS lambda_field NUMERIC,
ADD COLUMN IF NOT EXISTS probability_edge NUMERIC,
ADD COLUMN IF NOT EXISTS harmonic_signal NUMERIC,
ADD COLUMN IF NOT EXISTS hnc_probability NUMERIC,
ADD COLUMN IF NOT EXISTS dreams JSONB DEFAULT '{}',
ADD COLUMN IF NOT EXISTS sandbox_generation INTEGER,
ADD COLUMN IF NOT EXISTS sandbox_win_rate NUMERIC,
ADD COLUMN IF NOT EXISTS should_trade BOOLEAN,
ADD COLUMN IF NOT EXISTS entry_filter_reason TEXT,
ADD COLUMN IF NOT EXISTS exit_targets JSONB DEFAULT '{}',
ADD COLUMN IF NOT EXISTS position_size_pct NUMERIC,
ADD COLUMN IF NOT EXISTS piano_lambda NUMERIC,
ADD COLUMN IF NOT EXISTS piano_coherence NUMERIC,
ADD COLUMN IF NOT EXISTS rainbow_state TEXT,
ADD COLUMN IF NOT EXISTS diamond_coherence NUMERIC,
ADD COLUMN IF NOT EXISTS diamond_phi_alignment NUMERIC,
ADD COLUMN IF NOT EXISTS reflection JSONB DEFAULT '{}',
ADD COLUMN IF NOT EXISTS civilization_actions JSONB DEFAULT '{}';